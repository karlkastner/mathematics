% Tue  3 May 16:13:01 CEST 2016
%
%% determinant of stacked 3x3 matrices
function det = det3x3(A)
det = [A(1,1,:).*A(2,2,:).*A(3,3,:) - A(1,1,:).*A(2,3,:).*A(3,2,:) ...
        - A(1,2,:).*A(2,1,:).*A(3,3,:) + A(1,2,:).*A(2,3,:).*A(3,1,:) ...
        + A(1,3,:).*A(2,1,:).*A(3,2,:) - A(1,3,:).*A(2,2,:).*A(3,1,:)];
end

